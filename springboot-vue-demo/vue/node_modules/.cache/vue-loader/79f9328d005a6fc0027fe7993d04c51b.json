{"remainingRequest":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\src\\components\\Rcode.vue?vue&type=template&id=7cf96c42","dependencies":[{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\src\\components\\Rcode.vue","mtime":1647304015529},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646213807074},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1646213808426},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1646213809345},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646213807074},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646213808668}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIGpqamoNCiAgPGRpdiBjbGFzcz0nJz4NCiAgICA8ZWwtZGlhbG9nDQogICAgICAgIHRpdGxlPSLlvq7kv6HmiavnoIHmlK/ku5giDQogICAgICAgIHYtbW9kZWw9ImRpYWxvZ1Zpc2libGUiDQogICAgICAgIHdpZHRoPSIyMCUiDQogICAgICAgIGNlbnRlcg0KICAgICAgICBAY2xvc2U9ImNsb3NlIj4NCg0KICAgICAgPGltZyBzcmM9Ii4uL2Fzc2V0cy9pbWcvY29kZS5qcGciIHN0eWxlPSJ3aWR0aDoyNjBweDtoZWlnaHQ6MjYwcHg7ZGlzcGxheTpmbGV4Ij4NCiAgICAgIDxwIHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW46NXB4Ij48ZWwtYnV0dG9uIHR5cGU9InByaW1hcnkiIHNpemU9Im1pbmkiIEBjbGljaz0icmVmcmVzaCI+5Yi35paw5LqM57u056CBPC9lbC1idXR0b24+PC9wPg0KICAgICAgPHAgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyIj48Yj7orqLljZXlkI3np7A6e3tkaWFsb2dEYXRhLm9yZGVybmFtZX19PC9iPjwvcD4NCiAgICAgIDxwIHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlciI+PGI+6K6i5Y2V5Lu35qC8Ont7ZGlhbG9nRGF0YS5vcmRlcnByaWNlfX3lhYM8L2I+PC9wPg0KICAgICAgPHAgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyIj48Yj7mlbDph486e3tkaWFsb2dEYXRhLm9yZGVybnVtfX08L2I+PC9wPg0KICAgICAgPGRpdiBzbG90PSdmb290ZXInIGNsYXNzPSJkaWFsb2ctZm9vdGVyIiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiPg0KICAgICAgICA8ZWwtYnV0dG9uIHR5cGU9InByaW1hcnkiIEBjbGljaz0iY29uZmlybSI+5bey5pSv5LuYPC9lbC1idXR0b24+DQogICAgICAgIDxlbC1idXR0b24gdHlwZT0id2FybmluZyIgQGNsaWNrPSJjYW5jZWwiPuWPlua2iDwvZWwtYnV0dG9uPg0KICAgICAgPC9kaXY+DQogICAgPC9lbC1kaWFsb2c+DQogIDwvZGl2Pg0K"},{"version":3,"sources":["D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\src\\components\\Rcode.vue"],"names":[],"mappings":";EAEE,CAAC,CAAC,CAAC;EACH,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;MAEhB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC/E,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACnH,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACtE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzD,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC","file":"D:/VUESPRINT/pvue/springboot-vue-demo/vue/src/components/Rcode.vue","sourceRoot":"","sourcesContent":["<!-- 微信二维码 -->\r\n<template>\r\n  jjjj\r\n  <div class=''>\r\n    <el-dialog\r\n        title=\"微信扫码支付\"\r\n        v-model=\"dialogVisible\"\r\n        width=\"20%\"\r\n        center\r\n        @close=\"close\">\r\n\r\n      <img src=\"../assets/img/code.jpg\" style=\"width:260px;height:260px;display:flex\">\r\n      <p style=\"text-align:center;margin:5px\"><el-button type=\"primary\" size=\"mini\" @click=\"refresh\">刷新二维码</el-button></p>\r\n      <p style=\"text-align:center\"><b>订单名称:{{dialogData.ordername}}</b></p>\r\n      <p style=\"text-align:center\"><b>订单价格:{{dialogData.orderprice}}元</b></p>\r\n      <p style=\"text-align:center\"><b>数量:{{dialogData.ordernum}}</b></p>\r\n      <div slot='footer' class=\"dialog-footer\" style=\"text-align:center\">\r\n        <el-button type=\"primary\" @click=\"confirm\">已支付</el-button>\r\n        <el-button type=\"warning\" @click=\"cancel\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport QRCode from 'qrcodejs2'\r\nimport {ref} from \"vue\";\r\n  inject: ['reload']\r\n    // 这里存放数据\r\n      const content=ref('')\r\n      const dialogVisible=ref(true)\r\n      const dialogData={\r\n        ordername:\"1.jpg\",\r\n        orderprice:1200,\r\n        ordernum:1,\r\n      }\r\n\r\n  // 方法集合\r\n  function qrcodedraw () { // 生成二维码\r\n      this.qrcode = new QRCode(this.$refs.qrcode, {\r\n        width: 100, // 二维码宽度\r\n        height: 100, // 二维码高度\r\n        text: this.dialogData.codeUrl,\r\n        correctLevel: QRCode.CorrectLevel.H\r\n      })\r\n    }\r\n  function refresh () {\r\n      this.$http.rule.xxxxxxxx({orderId: this.dialogData.item.orderId, paymentMethod: 1}).then(res => {\r\n        if (res.data.code === '200' && res.data.value === 'success') {\r\n          this.$message.success('二维码刷新成功')\r\n          this.content = res.data.data.codeUrl\r\n          document.getElementById('qrcode').innerHTML = ''  //点击一次刷新将之前的二维码内容清空\r\n          this.$nextTick(() => {\r\n            this.qrcodeScan()\r\n          })\r\n        }\r\n      }).catch(() => {})\r\n    }\r\n  function close () {\r\n      this.$message.warning('支付页面关闭!')\r\n      this.dialogData.dialogVisible = false\r\n      this.reload()\r\n    }\r\n  function confirm () {\r\n      this.$http.rule.getMyOrdersList({current: 1, size: 5, orderId: this.dialogData.orderId}).then(res => {\r\n        if (res.data.data.records[0].orderState === '2') {\r\n          this.$message.success('支付成功!')\r\n          this.dialogData.dialogVisible = false\r\n          // this.$router.push({path: '/home/busaccount', query: {showview: 1}})\r\n          this.reload()\r\n        } else if (res.data.data.records[0].orderState === '4') {\r\n          this.$message.error('支付失败!')\r\n          this.dialogData.dialogVisible = false\r\n          // this.$router.push({path: '/home/busaccount', query: {showview: 1}})\r\n          this.reload()\r\n        } else if (res.data.data.records[0].orderState === '1') {\r\n          this.$message.warning('微信未支付!')\r\n          this.dialogData.dialogVisible = false\r\n          // this.$router.push({path: '/home/busaccount', query: {showview: 1}})\r\n          this.reload()\r\n        }\r\n      })\r\n    }\r\n  function cancel () {\r\n      console.log('close')\r\n      console.log( dialogVisible.value)\r\n      dialogVisible.value=false\r\n      console.log( dialogVisible.value)\r\n      this.$message.warning('支付取消!')\r\n      // this.reload()\r\n    }\r\n  // 生命周期 - 挂载完成（可以访问DOM元素）\r\n  function mounted () {\r\n    this.$nextTick(() => {\r\n      console.log('mounted')\r\n      this.qrcodedraw()\r\n    })\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}