{"remainingRequest":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\src\\components\\Rcode.vue?vue&type=template&id=7cf96c42","dependencies":[{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\src\\components\\Rcode.vue","mtime":1647304015529},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\babel.config.js","mtime":1646213816292},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646213807074},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1646213808426},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1646213809345},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646213807074},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646213808668}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jayB9IGZyb20gInZ1ZSI7CmltcG9ydCBfaW1wb3J0c18wIGZyb20gJy4uL2Fzc2V0cy9pbWcvY29kZS5qcGcnOwoKdmFyIF9ob2lzdGVkXzEgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiIGpqamogIik7Cgp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogIiIKfTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImltZyIsIHsKICBzcmM6IF9pbXBvcnRzXzAsCiAgc3R5bGU6IHsKICAgICJ3aWR0aCI6ICIyNjBweCIsCiAgICAiaGVpZ2h0IjogIjI2MHB4IiwKICAgICJkaXNwbGF5IjogImZsZXgiCiAgfQp9LCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNCA9IHsKICBzdHlsZTogewogICAgInRleHQtYWxpZ24iOiAiY2VudGVyIiwKICAgICJtYXJnaW4iOiAiNXB4IgogIH0KfTsKCnZhciBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIuWIt+aWsOS6jOe7tOeggSIpOwoKdmFyIF9ob2lzdGVkXzYgPSB7CiAgc3R5bGU6IHsKICAgICJ0ZXh0LWFsaWduIjogImNlbnRlciIKICB9Cn07CnZhciBfaG9pc3RlZF83ID0gewogIHN0eWxlOiB7CiAgICAidGV4dC1hbGlnbiI6ICJjZW50ZXIiCiAgfQp9Owp2YXIgX2hvaXN0ZWRfOCA9IHsKICBzdHlsZTogewogICAgInRleHQtYWxpZ24iOiAiY2VudGVyIgogIH0KfTsKdmFyIF9ob2lzdGVkXzkgPSB7CiAgc2xvdDogImZvb3RlciIsCiAgY2xhc3M6ICJkaWFsb2ctZm9vdGVyIiwKICBzdHlsZTogewogICAgInRleHQtYWxpZ24iOiAiY2VudGVyIgogIH0KfTsKCnZhciBfaG9pc3RlZF8xMCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCLlt7LmlK/ku5giKTsKCnZhciBfaG9pc3RlZF8xMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCLlj5bmtogiKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfZWxfYnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWJ1dHRvbiIpOwoKICB2YXIgX2NvbXBvbmVudF9lbF9kaWFsb2cgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZGlhbG9nIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2hvaXN0ZWRfMSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2RpYWxvZywgewogICAgdGl0bGU6ICLlvq7kv6HmiavnoIHmlK/ku5giLAogICAgbW9kZWxWYWx1ZTogJHNldHVwLmRpYWxvZ1Zpc2libGUsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJHNldHVwLmRpYWxvZ1Zpc2libGUgPSAkZXZlbnQ7CiAgICB9KSwKICAgIHdpZHRoOiAiMjAlIiwKICAgIGNlbnRlcjogIiIsCiAgICBvbkNsb3NlOiAkc2V0dXAuY2xvc2UKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfMywgX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIF9ob2lzdGVkXzQsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICB0eXBlOiAicHJpbWFyeSIsCiAgICAgICAgc2l6ZTogIm1pbmkiLAogICAgICAgIG9uQ2xpY2s6ICRzZXR1cC5yZWZyZXNoCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW19ob2lzdGVkXzVdOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgICAvKiBTVEFCTEUgKi8KCiAgICAgIH0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBfaG9pc3RlZF82LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYiIsIG51bGwsICLorqLljZXlkI3np7A6IiArIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmRpYWxvZ0RhdGEub3JkZXJuYW1lKSwgMQogICAgICAvKiBURVhUICovCiAgICAgICldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIF9ob2lzdGVkXzcsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJiIiwgbnVsbCwgIuiuouWNleS7t+agvDoiICsgX3RvRGlzcGxheVN0cmluZygkc2V0dXAuZGlhbG9nRGF0YS5vcmRlcnByaWNlKSArICLlhYMiLCAxCiAgICAgIC8qIFRFWFQgKi8KICAgICAgKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgX2hvaXN0ZWRfOCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImIiLCBudWxsLCAi5pWw6YePOiIgKyBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5kaWFsb2dEYXRhLm9yZGVybnVtKSwgMQogICAgICAvKiBURVhUICovCiAgICAgICldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgICAgICBvbkNsaWNrOiAkc2V0dXAuY29uZmlybQogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfaG9pc3RlZF8xMF07CiAgICAgICAgfSksCiAgICAgICAgXzogMQogICAgICAgIC8qIFNUQUJMRSAqLwoKICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICBvbkNsaWNrOiAkc2V0dXAuY2FuY2VsCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW19ob2lzdGVkXzExXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgICAgLyogU1RBQkxFICovCgogICAgICB9KV0pXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0sIDgKICAvKiBQUk9QUyAqLwogICwgWyJtb2RlbFZhbHVlIl0pXSldLCA2NAogIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICk7Cn0="},{"version":3,"mappings":";OAWWA,gBAA4B;;;;;AARhCC,OAAK,EAAC;;;8BAQPC,oBAAgF,KAAhF,EAAgF;AAA3EC,KAA4B,EAA5BH,UAA2E;AAA9CI,OAA6C,EAA7C;AAAA;AAAA;AAAA;AAAA;AAA8C,CAAhF;;AAAA;;;AACGA,OAAoC,EAApC;AAAA;AAAA;AAAA;;;+CAA4F;;;AAC5FA,OAAyB,EAAzB;AAAA;AAAA;;;AACAA,OAAyB,EAAzB;AAAA;AAAA;;;AACAA,OAAyB,EAAzB;AAAA;AAAA;;;AACEC,MAAI,EAAC;AAASJ,OAAK,EAAC;AAAgBG,OAAyB,EAAzB;AAAA;AAAA;;;gDACI;;gDACD;;;;;;;yEAfhDF,oBAkBM,KAlBN,cAkBM,CAjBJI,aAgBYC,oBAhBZ,EAgBY;AAfRC,SAAK,EAAC,QAeE;gBAdCC,oBAcD;;aAdCA,uBAAaC;MAcd;AAbRC,SAAK,EAAC,KAaE;AAZRC,UAAM,EAAN,EAYQ;AAXPC,WAAK,EAAEJ;AAWA,GAhBZ;sBAOE;AAAA,aAAgF,CAAhFK,UAAgF,EAChFZ,oBAAoH,GAApH,cAAoH,CAA5EI,aAAwES,oBAAxE,EAAwE;AAA7DC,YAAI,EAAC,SAAwD;AAA9CC,YAAI,EAAC,MAAyC;AAAjCC,eAAK,EAAET;AAA0B,OAAxE;0BAAuD;AAAA,iBAAK,YAAL;AAAA;;;;OAAvD,CAA4E,CAApH,CADgF,EAEhFP,oBAAqE,GAArE,cAAqE,CAAxCA,oBAAoC,GAApC,EAAoC,IAApC,EAAG,UAAKiB,iBAAEV,kBAAWW,SAAb,CAAR,EAA8B;AAAA;AAA9B,OAAwC,CAArE,CAFgF,EAGhFlB,oBAAuE,GAAvE,cAAuE,CAA1CA,oBAAsC,GAAtC,EAAsC,IAAtC,EAAG,UAAKiB,iBAAEV,kBAAWY,UAAb,CAAL,GAA8B,GAAjC,EAAkC;AAAA;AAAlC,OAA0C,CAAvE,CAHgF,EAIhFnB,oBAAkE,GAAlE,cAAkE,CAArCA,oBAAiC,GAAjC,EAAiC,IAAjC,EAAG,QAAGiB,iBAAEV,kBAAWa,QAAb,CAAN,EAA2B;AAAA;AAA3B,OAAqC,CAAlE,CAJgF,EAKhFpB,oBAGM,KAHN,cAGM,CAFJI,aAA0DS,oBAA1D,EAA0D;AAA/CC,YAAI,EAAC,SAA0C;AAA/BE,eAAK,EAAET;AAAwB,OAA1D;0BAA2C;AAAA,iBAAG,aAAH;AAAA;;;;OAA3C,CAEI,EADJH,aAAwDS,oBAAxD,EAAwD;AAA7CC,YAAI,EAAC,SAAwC;AAA7BE,eAAK,EAAET;AAAsB,OAAxD;0BAA0C;AAAA,iBAAE,aAAF;AAAA;;;;OAA1C,CACI,CAHN,CALgF,CAAhF;AAAA;;;;GAPF;;AAAA,mBAiBI,CAlBN","names":["_imports_0","class","_createElementVNode","src","style","slot","_createVNode","_component_el_dialog","title","$setup","$event","width","center","onClose","_hoisted_3","_component_el_button","type","size","onClick","_toDisplayString","ordername","orderprice","ordernum"],"sourceRoot":"","sources":["D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\src\\components\\Rcode.vue"],"sourcesContent":["<!-- 微信二维码 -->\r\n<template>\r\n  jjjj\r\n  <div class=''>\r\n    <el-dialog\r\n        title=\"微信扫码支付\"\r\n        v-model=\"dialogVisible\"\r\n        width=\"20%\"\r\n        center\r\n        @close=\"close\">\r\n\r\n      <img src=\"../assets/img/code.jpg\" style=\"width:260px;height:260px;display:flex\">\r\n      <p style=\"text-align:center;margin:5px\"><el-button type=\"primary\" size=\"mini\" @click=\"refresh\">刷新二维码</el-button></p>\r\n      <p style=\"text-align:center\"><b>订单名称:{{dialogData.ordername}}</b></p>\r\n      <p style=\"text-align:center\"><b>订单价格:{{dialogData.orderprice}}元</b></p>\r\n      <p style=\"text-align:center\"><b>数量:{{dialogData.ordernum}}</b></p>\r\n      <div slot='footer' class=\"dialog-footer\" style=\"text-align:center\">\r\n        <el-button type=\"primary\" @click=\"confirm\">已支付</el-button>\r\n        <el-button type=\"warning\" @click=\"cancel\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport QRCode from 'qrcodejs2'\r\nimport {ref} from \"vue\";\r\n  inject: ['reload']\r\n    // 这里存放数据\r\n      const content=ref('')\r\n      const dialogVisible=ref(true)\r\n      const dialogData={\r\n        ordername:\"1.jpg\",\r\n        orderprice:1200,\r\n        ordernum:1,\r\n      }\r\n\r\n  // 方法集合\r\n  function qrcodedraw () { // 生成二维码\r\n      this.qrcode = new QRCode(this.$refs.qrcode, {\r\n        width: 100, // 二维码宽度\r\n        height: 100, // 二维码高度\r\n        text: this.dialogData.codeUrl,\r\n        correctLevel: QRCode.CorrectLevel.H\r\n      })\r\n    }\r\n  function refresh () {\r\n      this.$http.rule.xxxxxxxx({orderId: this.dialogData.item.orderId, paymentMethod: 1}).then(res => {\r\n        if (res.data.code === '200' && res.data.value === 'success') {\r\n          this.$message.success('二维码刷新成功')\r\n          this.content = res.data.data.codeUrl\r\n          document.getElementById('qrcode').innerHTML = ''  //点击一次刷新将之前的二维码内容清空\r\n          this.$nextTick(() => {\r\n            this.qrcodeScan()\r\n          })\r\n        }\r\n      }).catch(() => {})\r\n    }\r\n  function close () {\r\n      this.$message.warning('支付页面关闭!')\r\n      this.dialogData.dialogVisible = false\r\n      this.reload()\r\n    }\r\n  function confirm () {\r\n      this.$http.rule.getMyOrdersList({current: 1, size: 5, orderId: this.dialogData.orderId}).then(res => {\r\n        if (res.data.data.records[0].orderState === '2') {\r\n          this.$message.success('支付成功!')\r\n          this.dialogData.dialogVisible = false\r\n          // this.$router.push({path: '/home/busaccount', query: {showview: 1}})\r\n          this.reload()\r\n        } else if (res.data.data.records[0].orderState === '4') {\r\n          this.$message.error('支付失败!')\r\n          this.dialogData.dialogVisible = false\r\n          // this.$router.push({path: '/home/busaccount', query: {showview: 1}})\r\n          this.reload()\r\n        } else if (res.data.data.records[0].orderState === '1') {\r\n          this.$message.warning('微信未支付!')\r\n          this.dialogData.dialogVisible = false\r\n          // this.$router.push({path: '/home/busaccount', query: {showview: 1}})\r\n          this.reload()\r\n        }\r\n      })\r\n    }\r\n  function cancel () {\r\n      console.log('close')\r\n      console.log( dialogVisible.value)\r\n      dialogVisible.value=false\r\n      console.log( dialogVisible.value)\r\n      this.$message.warning('支付取消!')\r\n      // this.reload()\r\n    }\r\n  // 生命周期 - 挂载完成（可以访问DOM元素）\r\n  function mounted () {\r\n    this.$nextTick(() => {\r\n      console.log('mounted')\r\n      this.qrcodedraw()\r\n    })\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}