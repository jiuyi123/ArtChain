{"remainingRequest":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\src\\components\\Rcode.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\src\\components\\Rcode.vue","mtime":1647304015529},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\babel.config.js","mtime":1646213816292},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646213807074},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1646213808426},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646213807074},{"path":"D:\\VUESPRINT\\pvue\\springboot-vue-demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646213808668}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFFSQ29kZSBmcm9tICdxcmNvZGVqczInOwppbXBvcnQgeyByZWYgfSBmcm9tICJ2dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKF9fcHJvcHMsIF9yZWYpIHsKICAgIHZhciBleHBvc2UgPSBfcmVmLmV4cG9zZTsKICAgIGV4cG9zZSgpOwoKICAgIGluamVjdDogWydyZWxvYWQnXTsgLy8g6L+Z6YeM5a2Y5pS+5pWw5o2uCgoKICAgIHZhciBjb250ZW50ID0gcmVmKCcnKTsKICAgIHZhciBkaWFsb2dWaXNpYmxlID0gcmVmKHRydWUpOwogICAgdmFyIGRpYWxvZ0RhdGEgPSB7CiAgICAgIG9yZGVybmFtZTogIjEuanBnIiwKICAgICAgb3JkZXJwcmljZTogMTIwMCwKICAgICAgb3JkZXJudW06IDEKICAgIH07IC8vIOaWueazlembhuWQiAoKICAgIGZ1bmN0aW9uIHFyY29kZWRyYXcoKSB7CiAgICAgIC8vIOeUn+aIkOS6jOe7tOeggQogICAgICB0aGlzLnFyY29kZSA9IG5ldyBRUkNvZGUodGhpcy4kcmVmcy5xcmNvZGUsIHsKICAgICAgICB3aWR0aDogMTAwLAogICAgICAgIC8vIOS6jOe7tOeggeWuveW6pgogICAgICAgIGhlaWdodDogMTAwLAogICAgICAgIC8vIOS6jOe7tOeggemrmOW6pgogICAgICAgIHRleHQ6IHRoaXMuZGlhbG9nRGF0YS5jb2RlVXJsLAogICAgICAgIGNvcnJlY3RMZXZlbDogUVJDb2RlLkNvcnJlY3RMZXZlbC5ICiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlZnJlc2goKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRodHRwLnJ1bGUueHh4eHh4eHgoewogICAgICAgIG9yZGVySWQ6IHRoaXMuZGlhbG9nRGF0YS5pdGVtLm9yZGVySWQsCiAgICAgICAgcGF5bWVudE1ldGhvZDogMQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gJzIwMCcgJiYgcmVzLmRhdGEudmFsdWUgPT09ICdzdWNjZXNzJykgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5LqM57u056CB5Yi35paw5oiQ5YqfJyk7CgogICAgICAgICAgX3RoaXMuY29udGVudCA9IHJlcy5kYXRhLmRhdGEuY29kZVVybDsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxcmNvZGUnKS5pbm5lckhUTUwgPSAnJzsgLy/ngrnlh7vkuIDmrKHliLfmlrDlsIbkuYvliY3nmoTkuoznu7TnoIHlhoXlrrnmuIXnqboKCiAgICAgICAgICBfdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5xcmNvZGVTY2FuKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmlK/ku5jpobXpnaLlhbPpl60hJyk7CiAgICAgIHRoaXMuZGlhbG9nRGF0YS5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMucmVsb2FkKCk7CiAgICB9CgogICAgZnVuY3Rpb24gY29uZmlybSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRodHRwLnJ1bGUuZ2V0TXlPcmRlcnNMaXN0KHsKICAgICAgICBjdXJyZW50OiAxLAogICAgICAgIHNpemU6IDUsCiAgICAgICAgb3JkZXJJZDogdGhpcy5kaWFsb2dEYXRhLm9yZGVySWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmRhdGEucmVjb3Jkc1swXS5vcmRlclN0YXRlID09PSAnMicpIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKCfmlK/ku5jmiJDlip8hJyk7CgogICAgICAgICAgX3RoaXMyLmRpYWxvZ0RhdGEuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOyAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogJy9ob21lL2J1c2FjY291bnQnLCBxdWVyeToge3Nob3d2aWV3OiAxfX0pCgogICAgICAgICAgX3RoaXMyLnJlbG9hZCgpOwogICAgICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuZGF0YS5yZWNvcmRzWzBdLm9yZGVyU3RhdGUgPT09ICc0JykgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKCfmlK/ku5jlpLHotKUhJyk7CgogICAgICAgICAgX3RoaXMyLmRpYWxvZ0RhdGEuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOyAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogJy9ob21lL2J1c2FjY291bnQnLCBxdWVyeToge3Nob3d2aWV3OiAxfX0pCgogICAgICAgICAgX3RoaXMyLnJlbG9hZCgpOwogICAgICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuZGF0YS5yZWNvcmRzWzBdLm9yZGVyU3RhdGUgPT09ICcxJykgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLndhcm5pbmcoJ+W+ruS/oeacquaUr+S7mCEnKTsKCiAgICAgICAgICBfdGhpczIuZGlhbG9nRGF0YS5kaWFsb2dWaXNpYmxlID0gZmFsc2U7IC8vIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOiAnL2hvbWUvYnVzYWNjb3VudCcsIHF1ZXJ5OiB7c2hvd3ZpZXc6IDF9fSkKCiAgICAgICAgICBfdGhpczIucmVsb2FkKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdjbG9zZScpOwogICAgICBjb25zb2xlLmxvZyhkaWFsb2dWaXNpYmxlLnZhbHVlKTsKICAgICAgZGlhbG9nVmlzaWJsZS52YWx1ZSA9IGZhbHNlOwogICAgICBjb25zb2xlLmxvZyhkaWFsb2dWaXNpYmxlLnZhbHVlKTsKICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmlK/ku5jlj5bmtoghJyk7IC8vIHRoaXMucmVsb2FkKCkKICAgIH0gLy8g55Sf5ZG95ZGo5pyfIC0g5oyC6L295a6M5oiQ77yI5Y+v5Lul6K6/6ZeuRE9N5YWD57Sg77yJCgoKICAgIGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCdtb3VudGVkJyk7CgogICAgICAgIF90aGlzMy5xcmNvZGVkcmF3KCk7CiAgICAgIH0pOwogICAgfQoKICAgIHZhciBfX3JldHVybmVkX18gPSB7CiAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGRpYWxvZ1Zpc2libGUsCiAgICAgIGRpYWxvZ0RhdGE6IGRpYWxvZ0RhdGEsCiAgICAgIHFyY29kZWRyYXc6IHFyY29kZWRyYXcsCiAgICAgIHJlZnJlc2g6IHJlZnJlc2gsCiAgICAgIGNsb3NlOiBjbG9zZSwKICAgICAgY29uZmlybTogY29uZmlybSwKICAgICAgY2FuY2VsOiBjYW5jZWwsCiAgICAgIG1vdW50ZWQ6IG1vdW50ZWQsCiAgICAgIFFSQ29kZTogUVJDb2RlLAogICAgICByZWY6IHJlZgogICAgfTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3JldHVybmVkX18sICdfX2lzU2NyaXB0U2V0dXAnLCB7CiAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICB2YWx1ZTogdHJ1ZQogICAgfSk7CiAgICByZXR1cm4gX19yZXR1cm5lZF9fOwogIH0KfTs="},{"version":3,"mappings":"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","names":["QRCode","ref","inject","content","dialogVisible","dialogData","ordername","orderprice","ordernum","qrcodedraw","qrcode","$refs","width","height","text","codeUrl","correctLevel","CorrectLevel","H","refresh","$http","rule","xxxxxxxx","orderId","item","paymentMethod","then","res","data","code","value","$message","success","document","getElementById","innerHTML","$nextTick","qrcodeScan","catch","close","warning","reload","confirm","getMyOrdersList","current","size","records","orderState","error","cancel","console","log","mounted"],"sources":["D:/VUESPRINT/pvue/springboot-vue-demo/vue/src/components/Rcode.vue"],"sourcesContent":["<!-- 微信二维码 -->\r\n<template>\r\n  jjjj\r\n  <div class=''>\r\n    <el-dialog\r\n        title=\"微信扫码支付\"\r\n        v-model=\"dialogVisible\"\r\n        width=\"20%\"\r\n        center\r\n        @close=\"close\">\r\n\r\n      <img src=\"../assets/img/code.jpg\" style=\"width:260px;height:260px;display:flex\">\r\n      <p style=\"text-align:center;margin:5px\"><el-button type=\"primary\" size=\"mini\" @click=\"refresh\">刷新二维码</el-button></p>\r\n      <p style=\"text-align:center\"><b>订单名称:{{dialogData.ordername}}</b></p>\r\n      <p style=\"text-align:center\"><b>订单价格:{{dialogData.orderprice}}元</b></p>\r\n      <p style=\"text-align:center\"><b>数量:{{dialogData.ordernum}}</b></p>\r\n      <div slot='footer' class=\"dialog-footer\" style=\"text-align:center\">\r\n        <el-button type=\"primary\" @click=\"confirm\">已支付</el-button>\r\n        <el-button type=\"warning\" @click=\"cancel\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport QRCode from 'qrcodejs2'\r\nimport {ref} from \"vue\";\r\n  inject: ['reload']\r\n    // 这里存放数据\r\n      const content=ref('')\r\n      const dialogVisible=ref(true)\r\n      const dialogData={\r\n        ordername:\"1.jpg\",\r\n        orderprice:1200,\r\n        ordernum:1,\r\n      }\r\n\r\n  // 方法集合\r\n  function qrcodedraw () { // 生成二维码\r\n      this.qrcode = new QRCode(this.$refs.qrcode, {\r\n        width: 100, // 二维码宽度\r\n        height: 100, // 二维码高度\r\n        text: this.dialogData.codeUrl,\r\n        correctLevel: QRCode.CorrectLevel.H\r\n      })\r\n    }\r\n  function refresh () {\r\n      this.$http.rule.xxxxxxxx({orderId: this.dialogData.item.orderId, paymentMethod: 1}).then(res => {\r\n        if (res.data.code === '200' && res.data.value === 'success') {\r\n          this.$message.success('二维码刷新成功')\r\n          this.content = res.data.data.codeUrl\r\n          document.getElementById('qrcode').innerHTML = ''  //点击一次刷新将之前的二维码内容清空\r\n          this.$nextTick(() => {\r\n            this.qrcodeScan()\r\n          })\r\n        }\r\n      }).catch(() => {})\r\n    }\r\n  function close () {\r\n      this.$message.warning('支付页面关闭!')\r\n      this.dialogData.dialogVisible = false\r\n      this.reload()\r\n    }\r\n  function confirm () {\r\n      this.$http.rule.getMyOrdersList({current: 1, size: 5, orderId: this.dialogData.orderId}).then(res => {\r\n        if (res.data.data.records[0].orderState === '2') {\r\n          this.$message.success('支付成功!')\r\n          this.dialogData.dialogVisible = false\r\n          // this.$router.push({path: '/home/busaccount', query: {showview: 1}})\r\n          this.reload()\r\n        } else if (res.data.data.records[0].orderState === '4') {\r\n          this.$message.error('支付失败!')\r\n          this.dialogData.dialogVisible = false\r\n          // this.$router.push({path: '/home/busaccount', query: {showview: 1}})\r\n          this.reload()\r\n        } else if (res.data.data.records[0].orderState === '1') {\r\n          this.$message.warning('微信未支付!')\r\n          this.dialogData.dialogVisible = false\r\n          // this.$router.push({path: '/home/busaccount', query: {showview: 1}})\r\n          this.reload()\r\n        }\r\n      })\r\n    }\r\n  function cancel () {\r\n      console.log('close')\r\n      console.log( dialogVisible.value)\r\n      dialogVisible.value=false\r\n      console.log( dialogVisible.value)\r\n      this.$message.warning('支付取消!')\r\n      // this.reload()\r\n    }\r\n  // 生命周期 - 挂载完成（可以访问DOM元素）\r\n  function mounted () {\r\n    this.$nextTick(() => {\r\n      console.log('mounted')\r\n      this.qrcodedraw()\r\n    })\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}